<mxfile host="app.diagrams.net" modified="2020-08-14T03:57:59.899Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36" etag="-5juOZx0bMTCasmtvrTu" version="13.6.2" type="github">
  <diagram id="6a731a19-8d31-9384-78a2-239565b7b9f0" name="Page-1">
    <mxGraphModel dx="786" dy="546" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2" value="Start()" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="170" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="3" value="初始化配置&lt;br&gt;XconfigManager（监听）&lt;br&gt;日志&lt;br&gt;环境配置" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="860.5" y="240" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="4" target="13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4" value="远程获取服务器&lt;br&gt;配置信息，初始化&lt;br&gt;打点。" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="860.5" y="484" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="5" target="4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.905;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="5" target="_4by66wlpGLuJ4540Z-u-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5" value="初始化soa-agent&lt;br&gt;服务自动更新&lt;br&gt;redis" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="860.5" y="360" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7" style="fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" source="2" target="3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8" style="fontStyle=1;strokeColor=#003366;strokeWidth=1;html=1;" parent="1" source="3" target="5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="11" value="yes" style="text;fontStyle=0;html=1;strokeColor=none;gradientColor=none;fillColor=none;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1155" y="680" width="40" height="26" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="13" target="22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="13" value="初始化环境管理器&lt;br&gt;environmentManager" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="860.5" y="600" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="14" value="no" style="text;fontStyle=0;html=1;strokeColor=none;gradientColor=none;fillColor=none;strokeWidth=2;align=center;" parent="1" vertex="1">
          <mxGeometry x="1220" y="770" width="40" height="26" as="geometry" />
        </mxCell>
        <mxCell id="15" value="直接返回该rpc实例" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="1220" y="650" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="22" target="24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0.9;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="22" target="_4by66wlpGLuJ4540Z-u-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="22" value="根据组名和服务名（systech&lt;br&gt;/soa-agent）以及etcd地址&lt;br&gt;初始化rpc（单例）" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="860.5" y="730" width="159" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="24" target="15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="24" target="_4by66wlpGLuJ4540Z-u-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="24" value="本地rpc是否已&lt;br&gt;存在？" style="shape=mxgraph.flowchart.decision;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" parent="1" vertex="1">
          <mxGeometry x="1086" y="735.75" width="119" height="78.5" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-60" target="_4by66wlpGLuJ4540Z-u-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-60" target="_4by66wlpGLuJ4540Z-u-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-60" value="初始化AutoUpdate&lt;br&gt;（包含redis地址等）&lt;br&gt;结构，执行loop&lt;br&gt;更新" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="360" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-62" value="每10s往redis中&lt;br&gt;注册一个过期&lt;br&gt;时间15s的&lt;br&gt;本服务信息的key" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="360" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-64" value="每10s检查redis&lt;br&gt;版本是否更新" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="460" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1420" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-71" target="_4by66wlpGLuJ4540Z-u-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-71" value="初始化服务自动&lt;br&gt;发现" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="820" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-80" target="_4by66wlpGLuJ4540Z-u-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.095;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-80" target="_4by66wlpGLuJ4540Z-u-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-80" value="初始化本地注册管理&lt;br&gt;中心&lt;br&gt;Registry" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="860.5" y="857" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-82" target="_4by66wlpGLuJ4540Z-u-85">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-82" value="注册路由控制&lt;br&gt;处理器" style="shape=mxgraph.flowchart.data;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="860.5" y="970" width="159" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-85" value="监听本地19999端口&lt;br&gt;创建服务器" style="shape=mxgraph.flowchart.terminator;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="850" y="1110" width="181" height="60.75" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-87" target="_4by66wlpGLuJ4540Z-u-91">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-87" value="创建全局服务管理器" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="1220" y="950" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-88" value="&lt;span&gt;设置集群信息&lt;/span&gt;&lt;br&gt;&lt;span&gt;（创建全局服务管理器）&lt;/span&gt;&lt;br&gt;&lt;span&gt;创建rpc实例返回&lt;/span&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1400" y="820" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0.9;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-90" target="_4by66wlpGLuJ4540Z-u-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-90" target="_4by66wlpGLuJ4540Z-u-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-90" value="设置缓存路径，open&lt;br&gt;初始化" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="1690" y="1070" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-91" target="_4by66wlpGLuJ4540Z-u-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-91" value="&lt;span&gt;创建一个etcd的discovery&lt;/span&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1410" y="945" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-94" target="_4by66wlpGLuJ4540Z-u-96">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-94" value="&lt;span&gt;注入全局服务&lt;br&gt;管理器&lt;/span&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1560" y="945" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-96" target="_4by66wlpGLuJ4540Z-u-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-96" value="Open执行注入&lt;br&gt;的discovery" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1700" y="945" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-99" value="每30s或配置变动&lt;br&gt;调用syncConfig&lt;br&gt;同步配置（拉取订阅&lt;br&gt;服务信息，切换当前集）" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="1690" y="1170.75" width="140" height="99.25" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-101" target="_4by66wlpGLuJ4540Z-u-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-101" value="初始化Registry&lt;br&gt;字段" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="710" y="857" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-102" value="每秒钟获取所有维护&lt;br&gt;服务的服务器进行&lt;br&gt;服务器健康检查&lt;br&gt;（tcp心跳监测）" style="shape=mxgraph.flowchart.document;strokeWidth=2;gradientColor=none;gradientDirection=north;fontStyle=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="1870" y="1170.75" width="140" height="94.63" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-105" target="_4by66wlpGLuJ4540Z-u-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-105" target="_4by66wlpGLuJ4540Z-u-108">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="917" />
              <mxPoint x="550" y="963" />
              <mxPoint x="590" y="963" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-105" target="_4by66wlpGLuJ4540Z-u-109">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="680" y="940" />
              <mxPoint x="740" y="940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-105" value="loop()循环执行&lt;br&gt;服务注册" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="857" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="_4by66wlpGLuJ4540Z-u-106" target="_4by66wlpGLuJ4540Z-u-107">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-106" value="registers&lt;br&gt;14s内接受超过3次注册请求，执&lt;br&gt;行etcd注册。&lt;br&gt;（这里分v2、v3两个版本）" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="380" y="990" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-107" value="先检测etcd结点是否存在，不存在则注册&lt;br&gt;存在则只需更新ttl" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="370" y="1130" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-108" value="chAtOnce&lt;br&gt;该通道的注册&lt;br&gt;请求直接进行注册" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="540" y="990" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_4by66wlpGLuJ4540Z-u-109" value="ch&lt;br&gt;该通道的注册&lt;br&gt;请求执行计数，并加入registers" style="rounded=1;whiteSpace=wrap;html=1;absoluteArcSize=1;arcSize=14;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="690" y="990" width="100" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
